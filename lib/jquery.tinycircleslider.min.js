/*! Tiny Circleslider - v2.0.6 - 2015-01-15
 * http://www.baijs.com/tinycircleslider
 *
 * Copyright (c) 2015 Maarten Baijs <wieringen@gmail.com>;
 * Licensed under the MIT license */

!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){function b(b,e){function f(){return u.options.dotsSnap&&k(),v.append(w.first().clone()),v.css("width",B.width*(w.length+1)),g(),u.move(0,u.options.interval),u}function g(){var c=H?"touchstart":"mousedown";H?(b[0].ontouchstart=t,b[0].ontouchmove=q,b[0].ontouchend=s):x.bind(c,t),u.options.dotsSnap&&b.delegate(".dot",c,function(b){return b.preventDefault(),b.stopImmediatePropagation(),clearTimeout(E),0===G&&u.move(a(this).text()-1),u.start(),!1})}function h(a){E=setTimeout(function(){u.move(void 0!==w[u.slideCurrent+1]?u.slideCurrent+1:0,!0)},a?50:u.options.intervalTime)}function i(a){return a*(Math.PI/180)}function j(a){return 180*a/Math.PI}function k(){var c=document.createDocumentFragment();y.remove(),w=w.remove(),w.each(function(b,d){var e=y.clone(),f=u.options.dots?360*b/w.length:parseInt(a(d).attr("data-degrees"),10),g={top:-Math.cos(i(f))*u.options.radius+A.height/2-D.height/2,left:Math.sin(i(f))*u.options.radius+A.width/2-D.width/2};e.addClass(a(d).attr("data-classname")),e.css(g),z.push({angle:f,slide:d,dot:e}),c.appendChild(e[0])}),z.sort(function(a,b){return a.angle-b.angle}),a.each(z,function(b,c){a(c.dot).addClass("dot-"+(b+1)),a(c.dot).html("<span>"+(b+1)+"</span>"),v.append(c.slide)}),b.append(c),y=b.find(".dot")}function l(a,b){var c,d,e;return a>b?(c=a-b,d=-(b+360-a)):(c=a+360-b,d=-(b-a)),e=c<Math.abs(d)?c:d,[e,d,c]}function m(b){var c=9999,d=9999,e=9999,f=0,g=0,h=0;return a.each(z,function(a,i){var j=l(i.angle,b);Math.abs(j[0])<Math.abs(e)&&(e=j[0],h=a),Math.abs(j[1])<Math.abs(c)&&(c=j[1],f=a),Math.abs(j[2])<Math.abs(d)&&(d=j[2],g=a)}),[[h,f,g],[e,c,d]]}function n(a){return 0>a?360+a%-360:a%360}function o(a,b,c,d){G+=1;var e=n(Math.round(G*a+u.angleCurrent));G===c&&d&&u.start(),r(e,G===c),c>G?F=setTimeout(function(){o(a,b,c,d)},50):(G=0,u.angleCurrent=b)}function p(a){return{x:I?a.targetTouches[0].pageX:a.pageX||a.clientX,y:I?a.targetTouches[0].pageY:a.pageY||a.clientY}}function q(a){var c=b.offset(),d={left:p(a).x-c.left-A.width/2,top:p(a).y-c.top-A.height/2};return u.angleCurrent=n(j(Math.atan2(d.left,-d.top))),r(u.angleCurrent),!1}function r(a,c){u.options.dots?v.css("left",-(a/360*B.width*w.length)):(closestSlidesAndAngles=m(a),closestSlides=closestSlidesAndAngles[0],closestAngles=closestSlidesAndAngles[1],v.css("left",-(closestSlides[1]*B.width+Math.abs(closestAngles[1])*B.width/(Math.abs(closestAngles[1])+Math.abs(closestAngles[2]))))),x.css({top:-Math.cos(i(a))*u.options.radius+(A.height/2-C.height/2),left:Math.sin(i(a))*u.options.radius+(A.width/2-C.width/2)}),c&&b.trigger("move",[w[u.slideCurrent],u.slideCurrent])}function s(b){return a(b.target).hasClass("dot")?!1:(b.preventDefault(),clearTimeout(F),H||(a(document).unbind("mousemove mouseup"),x.unbind("mouseup")),u.options.dotsSnap&&(u.options.dotsHide&&y.stop(!0,!0).fadeOut("slow"),u.move(m(u.angleCurrent)[0][0])),u.start(),void 0)}function t(b){return b.preventDefault(),I="touchstart"==b.type,a(b.target).hasClass("dot")?!1:(clearTimeout(E),H||(a(document).mousemove(q),a(document).mouseup(s),x.mouseup(s)),u.options.dotsSnap&&u.options.dotsHide&&y.stop(!0,!0).fadeIn("slow"),void 0)}this.options=a.extend({},d,e),this._defaults=d,this._name=c;var u=this,v=(b.find(".viewport"),b.find(".overview")),w=v.children(),x=b.find(".thumb"),y=b.find(".dot"),z=(w.find("a"),[]),A={width:b.outerWidth(!0),height:b.outerHeight(!0)},B={width:w.first().outerWidth(!0),height:w.first().outerHeight(!0)},C={width:x.outerWidth(!0),height:x.outerHeight(!0)},D={width:y.outerWidth(),height:y.outerHeight()},E=null,F=null,G=0,H="ontouchstart"in document.documentElement,I=!1;return this.slideCurrent=0,this.angleCurrent=10,this.start=function(a){return u.options.interval&&h(a),u},this.stop=function(){return clearTimeout(E),u},this.move=function(a,b){var c=z[a]&&z[a].angle||0,d=l(c,u.angleCurrent)[0],e=Math.ceil(Math.abs(d)/10),f=d/e||0;return u.slideCurrent=a,o(f,c,e,b),u},f()}var c="tinycircleslider",d={interval:!1,intervalTime:3500,dots:!0,dotsSnap:!1,dotsHide:!0,radius:140};a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(a(this),d))})}});