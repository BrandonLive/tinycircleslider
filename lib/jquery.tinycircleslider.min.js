/*! Tiny Circleslider - v2.0.6 - 2015-01-23
 * http://www.baijs.com/tinycircleslider
 *
 * Copyright (c) 2015 Maarten Baijs <wieringen@gmail.com>;
 * Licensed under the MIT license */

!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){function b(b,c){function e(){return j(),u.append(v.first().clone()).css("width",z.width*(v.length+1)),f(),q(0),t.move(t.options.start,t.options.interval),t}function f(){var c=F?"touchstart":"mousedown";F?(b[0].ontouchstart=s,b[0].ontouchmove=p,b[0].ontouchend=r):w.bind(c,s),b.delegate(".dot",c,function(b){return b.preventDefault(),b.stopImmediatePropagation(),clearTimeout(C),0===E&&t.move(a(this).attr("data-slide-index")),t.start(),!1})}function g(a){C=setTimeout(function(){t.move(t.slideCurrent+1,!0)},a?50:t.options.intervalTime)}function h(a){return a*(Math.PI/180)}function i(a){return 180*a/Math.PI}function j(){var c=document.createDocumentFragment();x.remove(),v.each(function(b,d){var e=null,f=parseInt(a(d).attr("data-degrees"),10)||360*b/t.slidesTotal,g={top:-Math.cos(h(f))*t.options.radius+y.height/2-B.height/2,left:Math.sin(h(f))*t.options.radius+y.width/2-B.width/2};x.length>0&&(e=x.clone(),e.addClass(a(d).attr("data-classname")).css(g),c.appendChild(e[0])),t.dots.push({angle:f,slide:d,dot:e})}),t.dots.sort(function(a,b){return a.angle-b.angle}),a.each(t.dots,function(b,c){a(c.dot).length>0&&a(c.dot).addClass("dot-"+(b+1)).attr("data-slide-index",b).html("<span>"+(b+1)+"</span>")}),b.append(c),x=b.find(".dot")}function k(a,b){var c,d,e;return a>b?(c=a-b,d=-(b+360-a)):(c=a+360-b,d=-(b-a)),e=c<Math.abs(d)?c:d,[e,d,c]}function l(b){var c=9999,d=9999,e=9999,f=0,g=0,h=0;return a.each(t.dots,function(a,i){var j=k(i.angle,b);Math.abs(j[0])<Math.abs(e)&&(e=j[0],h=a),Math.abs(j[1])<Math.abs(c)&&(c=j[1],f=a),Math.abs(j[2])<Math.abs(d)&&(d=j[2],g=a)}),[[h,f,g],[e,c,d]]}function m(a){return 0>a?360+a%-360:a%360}function n(a,b,c,d){E+=1;var e=m(Math.round(E*a+t.angleCurrent));E===c&&d&&t.start(),q(e,E===c),c>E?D=setTimeout(function(){n(a,b,c,d)},50):(E=0,t.angleCurrent=b)}function o(a){return{x:G?a.targetTouches[0].pageX:a.pageX||a.clientX,y:G?a.targetTouches[0].pageY:a.pageY||a.clientY}}function p(a){var c=b.offset(),d={left:o(a).x-c.left-y.width/2,top:o(a).y-c.top-y.height/2};return t.angleCurrent=m(i(Math.atan2(d.left,-d.top))),q(t.angleCurrent),!1}function q(a,c){closestSlidesAndAngles=l(a),closestSlides=closestSlidesAndAngles[0],closestAngles=closestSlidesAndAngles[1],u.css("left",-(closestSlides[1]*z.width+Math.abs(closestAngles[1])*z.width/(Math.abs(closestAngles[1])+Math.abs(closestAngles[2])))),w.css({top:-Math.cos(h(a))*t.options.radius+(y.height/2-A.height/2),left:Math.sin(h(a))*t.options.radius+(y.width/2-A.width/2)}),c&&b.trigger("move",[v[t.slideCurrent],t.slideCurrent])}function r(b){return a(b.target).hasClass("dot")?!1:(b.preventDefault(),clearTimeout(D),F||(a(document).unbind("mousemove mouseup"),w.unbind("mouseup")),t.options.dotsHide&&x.stop(!0,!0).fadeOut("slow"),t.options.dotsSnap&&t.move(l(t.angleCurrent)[0][0]),t.start(),void 0)}function s(b){return b.preventDefault(),G="touchstart"==b.type,a(b.target).hasClass("dot")?!1:(clearTimeout(C),F||(a(document).mousemove(p),a(document).mouseup(r),w.mouseup(r)),t.options.dotsHide&&x.stop(!0,!0).fadeIn("slow"),void 0)}this.options=a.extend({},d,c);var t=this,u=(b.find(".viewport"),b.find(".overview")),v=u.children(),w=b.find(".thumb"),x=b.find(".dot"),y=(v.find("a"),{width:b.outerWidth(!0),height:b.outerHeight(!0)}),z={width:v.first().outerWidth(!0),height:v.first().outerHeight(!0)},A={width:w.outerWidth(!0),height:w.outerHeight(!0)},B={width:x.outerWidth(),height:x.outerHeight()},C=null,D=null,E=0,F="ontouchstart"in window||"onmsgesturechange"in window,G=!1;return this.dots=[],this.slideCurrent=0,this.angleCurrent=0,this.slidesTotal=v.length,this.intervalActive=!1,this.start=function(a){return t.options.interval&&(t.intervalActive=!0,g(a)),t},this.stop=function(){return t.intervalActive=!1,clearTimeout(C),t},this.move=function(a,b){var c=Math.max(0,isNaN(a)?t.slideCurrent:a);c>=t.slidesTotal&&(c=0);var d=t.dots[c]&&t.dots[c].angle||0,e=k(d,t.angleCurrent)[0],f=Math.ceil(Math.abs(e)/10),g=e/f;return t.slideCurrent=c,n(g,d,f,b),t},e()}var c="tinycircleslider",d={interval:!1,intervalTime:3500,dotsSnap:!1,dotsHide:!0,radius:140,start:4};b.prototype._defaults=d,b.prototype._name=c,a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(a(this),d))})}});